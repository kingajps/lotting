<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Storage Map | Auction Warehouse</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="storage.css" />
  <script>
    if (sessionStorage.getItem("aw_logged_in") !== "1") {
      window.location.href = "login.html";
    }
  </script>
</head>
<body>
  <!-- Header -->
  <header class="app-header">
    <div class="header-content">
      <div class="logo-row">
        <span class="logo-icon">
          <svg width="36" height="36" fill="none" viewBox="0 0 36 36">
            <rect width="36" height="36" rx="12" fill="#2563eb"/>
            <path d="M18 10l8 4.5v7c0 .83-.47 1.59-1.19 1.92l-6.81 3.08-6.81-3.08A2.08 2.08 0 0 1 10 21.5v-7L18 10Z" fill="#fff"/>
            <path d="M18 10v13.5" stroke="#2563eb" stroke-width="2"/>
          </svg>
        </span>
        <div>
          <h1 class="header-title">Auction Warehouse</h1>
          <span class="app-subtitle">Management System</span>
        </div>
      </div>
    </div>
  </header>
  <nav class="nav-tabs" aria-label="Main navigation">
    <a class="tab-btn" href="/lotting/index.html">Dashboard</a>
    <a class="tab-btn" href="/lotting/scan/scan.html">Barcode Scanner</a>
    <a class="tab-btn" href="/lotting/inventory/inventory.html">Inventory</a>
    <a class="tab-btn active" href="/lotting/storage/storage.html">Storage Map</a>
    <a class="tab-btn" href="/lotting/cases/cases.html">Cases</a>
    <a class="tab-btn" href="/lotting/lots/lots.html">Lots</a>
    <a class="tab-btn" href="/lotting/analytics/analytics.html">Analytics</a>
  </nav>
  <main class="main-container">
    <!-- Breadcrumb -->
    <nav class="breadcrumb">
      <span>Auction Warehouse</span> / <span>Storage Map</span>
    </nav>
    <section id="tab-storage" class="tab-section active" tabindex="0">
      <h2 class="map-title">Warehouse Storage Map</h2>
      <p class="map-desc">Visual overview of storage locations and capacity</p>
      <div class="map-filters-row">
        <input type="text" id="map-search" class="map-search" placeholder="Search locations..." />
        <select id="map-zone-filter"><option value="">All Zones</option></select>
        <select id="map-status-filter"><option value="">All Statuses</option></select>
        <div class="map-locations-count"><span id="map-locations-count"></span></div>
      </div>
      <button id="edit-storage-map-btn" class="primary-btn" style="margin-bottom:16px;">Edit Storage Map</button>
      <div id="zone-groups"></div>
    </section>
  </main>
  <!-- In Transit Zone Example -->
  <div class="zone in-transit-zone">
    <!-- Other in-transit items -->

    <!-- JPS Van area: MAKE THIS WHOLE AREA CLICKABLE -->
    <div id="jps-van-element" class="jps-van-area" style="cursor:pointer; display: flex; align-items: center; gap: 12px; padding: 14px 20px; border-radius: 8px; background: #f3f6fc; box-shadow: 0 2px 6px #2563eb22; margin-bottom: 12px;">
      <!-- Van SVG or Image -->
      <svg width="48" height="32" viewBox="0 0 48 32" fill="none" xmlns="http://www.w3.org/2000/svg" style="flex-shrink:0;">
        <rect x="4" y="14" width="32" height="12" rx="3" fill="#2563eb"/>
        <rect x="36" y="18" width="8" height="8" rx="2" fill="#60a5fa"/>
        <rect x="8" y="8" width="18" height="8" rx="2" fill="#93c5fd"/>
        <circle cx="12" cy="28" r="3" fill="#222"/>
        <circle cx="36" cy="28" r="3" fill="#222"/>
        <rect x="24" y="8" width="6" height="8" rx="1.5" fill="#fff"/>
      </svg>
      <div style="display:flex; flex-direction:column;">
        <div style="font-size:1.15em; font-weight:700; color:#2563eb;">JPS Van</div>
        <div style="font-size:0.98em; color:#444;">In Transit Zone</div>
      </div>
    </div>

    <!-- Other in-transit items -->
  </div>
  <!-- Van Booking Modal -->
  <div id="van-modal-backdrop" class="zone-modal-backdrop" style="display:none;">
    <div class="zone-modal" style="max-width:450px;">
      <div class="zone-modal-header">
        Book JPS Van
        <button type="button" class="zone-modal-close-btn" id="van-modal-cancel-btn">&times;</button>
      </div>
      <form id="van-modal-form">
        <label>Date:
          <input type="date" id="van-date" required>
        </label>
        <label>Time From:
          <input type="time" id="van-time-from" required>
        </label>
        <label>Time To:
          <input type="time" id="van-time-to" required>
        </label>
        <label>Company/Companies:
          <textarea id="van-companies" rows="2" required></textarea>
        </label>
        <label>Address(es):
          <textarea id="van-addresses" rows="2" required></textarea>
        </label>
        <label>Case(s):
          <textarea id="van-cases" rows="2"></textarea>
        </label>
        <label>Used by:
          <input type="text" id="van-user" required>
        </label>
        <div class="modal-actions" style="margin-top:22px; display:flex; gap:14px;">
          <button type="submit" class="primary-btn">Save</button>
          <button type="button" id="van-modal-cancel-btn-2">Cancel</button>
        </div>
      </form>
    </div>
  </div>
  <!-- Footer -->
  <footer class="dashboard-footer">
    <div class="footer-row">
      <div class="footer-col">
        <div class="footer-logo">
          <svg width="32" height="32" fill="none" viewBox="0 0 36 36">
            <rect width="36" height="36" rx="12" fill="#2563eb"/>
            <path d="M18 10l8 4.5v7c0 .83-.47 1.59-1.19 1.92l-6.81 3.08-6.81-3.08A2.08 2.08 0 0 1 10 21.5v-7L18 10Z" fill="#fff"/>
            <path d="M18 10v13.5" stroke="#2563eb" stroke-width="2"/>
          </svg>
        </div>
        <div class="footer-title">Auction Warehouse System</div>
        <div class="footer-desc">Complete inventory management solution</div>
        <div class="footer-meta">Â© 2024 JPS Surveyors Auction Warehouse &middot; Built with React &amp; TypeScript</div>
      </div>
      <div class="footer-col">
        <div class="footer-heading">Features</div>
        <ul class="footer-list">
          <li>Barcode Scanning</li>
          <li>Inventory Management</li>
          <li>Storage Mapping</li>
          <li>Case Tracking</li>
          <li>Analytics Dashboard</li>
        </ul>
      </div>
      <div class="footer-col">
        <div class="footer-heading">Core Functions</div>
        <ul class="footer-list">
          <li>Item cataloguing</li>
          <li>Warehouse organization</li>
          <li>Client case management</li>
          <li>Performance analytics</li>
          <li>Mobile-friendly interface</li>
          <li>Real-time updates</li>
          <li>Comprehensive reporting</li>
        </ul>
      </div>
    </div>
  </footer>
  <script src="storage.js"></script>
</body>
</html>
